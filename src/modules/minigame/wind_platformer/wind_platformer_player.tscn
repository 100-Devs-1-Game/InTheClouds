[gd_scene load_steps=32 format=3 uid="uid://b5gx7hrc8phfj"]

[ext_resource type="Script" uid="uid://d2exw2nueiy4m" path="res://modules/minigame/wind_platformer/wind_platformer_player.gd" id="1_hjopy"]
[ext_resource type="Texture2D" uid="uid://bg1q5342vtyof" path="res://assets/minigames/wind_platformer/character/dive/000.png" id="2_7xqbe"]
[ext_resource type="Texture2D" uid="uid://7fjjhjaqd5v8" path="res://assets/minigames/wind_platformer/character/run/000.png" id="2_e810b"]
[ext_resource type="Texture2D" uid="uid://dg67av3slji5h" path="res://assets/minigames/wind_platformer/character/fall/000.png" id="2_rjep0"]
[ext_resource type="Texture2D" uid="uid://b0et030xsm1f7" path="res://assets/minigames/wind_platformer/character/dive/001.png" id="3_3wnla"]
[ext_resource type="Texture2D" uid="uid://djaneighimnva" path="res://assets/minigames/wind_platformer/character/fall/001.png" id="3_5gvck"]
[ext_resource type="Texture2D" uid="uid://d1e2k1nj8d0p1" path="res://assets/minigames/wind_platformer/character/run/001.png" id="3_sls4m"]
[ext_resource type="Texture2D" uid="uid://c7ogqolgmsd3w" path="res://assets/minigames/wind_platformer/character/fall/002.png" id="4_7xqbe"]
[ext_resource type="Texture2D" uid="uid://cs34beod3ce3j" path="res://assets/minigames/wind_platformer/character/run/002.png" id="4_x8qgx"]
[ext_resource type="Texture2D" uid="uid://c4dyid3crggrn" path="res://assets/minigames/wind_platformer/character/jump/000.png" id="5_3wnla"]
[ext_resource type="Texture2D" uid="uid://djqs4r0ahyu44" path="res://assets/minigames/wind_platformer/character/run/003.png" id="5_xt8ha"]
[ext_resource type="Texture2D" uid="uid://t4llhq4mq8vd" path="res://assets/minigames/wind_platformer/character/jump/001.png" id="6_hdmq6"]
[ext_resource type="Texture2D" uid="uid://lot3tpkbxx7w" path="res://assets/minigames/wind_platformer/character/run/004.png" id="6_xs7bh"]
[ext_resource type="Texture2D" uid="uid://dsfwp6rcudyk1" path="res://assets/minigames/wind_platformer/character/stand/000.png" id="7_68ttx"]
[ext_resource type="Texture2D" uid="uid://c3q6fmuor5v23" path="res://assets/minigames/wind_platformer/character/run/005.png" id="7_sls4m"]
[ext_resource type="Texture2D" uid="uid://dryabtoykf2rb" path="res://assets/minigames/wind_platformer/character/jump/002.png" id="7_uom4x"]
[ext_resource type="Texture2D" uid="uid://dix1117cjljul" path="res://assets/minigames/wind_platformer/character/stand/001.png" id="8_0b7bb"]
[ext_resource type="Texture2D" uid="uid://dmwnf025rpj3w" path="res://assets/minigames/wind_platformer/character/jump/003.png" id="8_af6i6"]
[ext_resource type="Texture2D" uid="uid://bjs6bvocnfn1f" path="res://assets/minigames/wind_platformer/character/stand/002.png" id="9_62oln"]
[ext_resource type="Texture2D" uid="uid://ppyv18e51oua" path="res://assets/minigames/wind_platformer/character/jump/004.png" id="9_qmyqh"]
[ext_resource type="Texture2D" uid="uid://cil6vksb3kqo0" path="res://assets/minigames/wind_platformer/character/stand/003.png" id="10_p0ww4"]
[ext_resource type="Texture2D" uid="uid://cnk4ej8cyyk87" path="res://assets/minigames/wind_platformer/character/stand/004.png" id="11_d1vcw"]
[ext_resource type="AudioStream" uid="uid://cmeopcfcjv6b0" path="res://assets/minigames/wind_platformer/sfx/sfx_walk_cloud_lp_01.ogg" id="13_x8qgx"]
[ext_resource type="AudioStream" uid="uid://db2amhq563rqf" path="res://assets/minigames/wind_platformer/sfx/sfx_cloud_jump_02.ogg" id="24_hdmq6"]
[ext_resource type="AudioStream" uid="uid://crdpuwen62s16" path="res://assets/minigames/wind_platformer/sfx/sfx_cloud_land_02.ogg" id="25_uom4x"]
[ext_resource type="AudioStream" uid="uid://bgr4m8cg5dp5h" path="res://assets/minigames/wind_platformer/sfx/lp_wind_calm_woodz.ogg" id="26_uom4x"]
[ext_resource type="AudioStream" uid="uid://mdane7hai5e1" path="res://assets/minigames/wind_platformer/sfx/fire_small_lp.ogg" id="27_af6i6"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dkh7d"]
size = Vector2(32, 48)

[sub_resource type="SpriteFrames" id="SpriteFrames_kpnvy"]
animations = [{
"frames": [],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_7xqbe")
}, {
"duration": 1.0,
"texture": ExtResource("3_3wnla")
}],
"loop": true,
"name": &"diving",
"speed": 6.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_rjep0")
}, {
"duration": 1.0,
"texture": ExtResource("3_5gvck")
}, {
"duration": 1.0,
"texture": ExtResource("4_7xqbe")
}],
"loop": true,
"name": &"falling",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_3wnla")
}, {
"duration": 1.0,
"texture": ExtResource("6_hdmq6")
}, {
"duration": 1.0,
"texture": ExtResource("7_uom4x")
}, {
"duration": 1.0,
"texture": ExtResource("8_af6i6")
}, {
"duration": 1.0,
"texture": ExtResource("9_qmyqh")
}],
"loop": false,
"name": &"jumping",
"speed": 24.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_e810b")
}, {
"duration": 1.0,
"texture": ExtResource("3_sls4m")
}, {
"duration": 1.0,
"texture": ExtResource("4_x8qgx")
}, {
"duration": 1.0,
"texture": ExtResource("5_xt8ha")
}, {
"duration": 1.0,
"texture": ExtResource("6_xs7bh")
}, {
"duration": 1.0,
"texture": ExtResource("7_sls4m")
}],
"loop": true,
"name": &"running",
"speed": 6.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_68ttx")
}, {
"duration": 1.0,
"texture": ExtResource("8_0b7bb")
}, {
"duration": 1.0,
"texture": ExtResource("9_62oln")
}, {
"duration": 1.0,
"texture": ExtResource("10_p0ww4")
}, {
"duration": 1.0,
"texture": ExtResource("11_d1vcw")
}],
"loop": true,
"name": &"standing",
"speed": 6.0
}]

[sub_resource type="Curve" id="Curve_7xqbe"]
_data = [Vector2(0, 1), 0.0, -2.67305, 0, 0, Vector2(1, 0.159533), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Gradient" id="Gradient_7xqbe"]
offsets = PackedFloat32Array(0.00555556, 0.155556, 0.655556, 1)
colors = PackedColorArray(0.901961, 0, 0, 0, 0.901961, 0, 0, 1, 0.737092, 0.631404, 0.225013, 1, 0, 0, 0, 0)

[node name="Player" type="CharacterBody2D"]
z_index = 10
collision_mask = 7
script = ExtResource("1_hjopy")
acceleration = 1000.0
wind_impact = 2.0
damping = 0.25

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_dkh7d")

[node name="Model" type="Node2D" parent="."]
visible = false

[node name="Polygon2D" type="Polygon2D" parent="Model"]
color = Color(1, 0.396078, 0.270588, 1)
polygon = PackedVector2Array(8, 16, 8, 4, -8, 4, -8, 16, -4, 16, -4, 8, 4, 8, 4, 16)

[node name="Polygon2D Torso" type="Polygon2D" parent="Model"]
unique_name_in_owner = true
color = Color(1, 0.396078, 0.270588, 1)
polygon = PackedVector2Array(-8, 4, -8, -4, -16, -4, -16, -8, 16, -8, 16, -4, 8, -4, 8, 4)

[node name="Polygon2D Torso Dive" type="Polygon2D" parent="Model"]
unique_name_in_owner = true
visible = false
color = Color(1, 0.396078, 0.270588, 1)
polygon = PackedVector2Array(-8, 4, -8, -8, 8, -8, 8, 4)

[node name="Head" type="Polygon2D" parent="Model"]
unique_name_in_owner = true
color = Color(0.936948, 0.711761, 0.677438, 1)
polygon = PackedVector2Array(4, -8, -4, -8, -4, -16, 4, -16)

[node name="Hat" type="Polygon2D" parent="Model"]
unique_name_in_owner = true
visible = false
polygon = PackedVector2Array(4, -16, -4, -16, 0, -24)

[node name="VisibleOnScreenNotifier2D" type="VisibleOnScreenNotifier2D" parent="."]

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_kpnvy")
animation = &"diving"

[node name="Audio" type="Node" parent="."]

[node name="AudioStreamPlayer Run" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("13_x8qgx")
volume_db = -10.667
bus = &"SFX"

[node name="Run Audio Delay" type="Timer" parent="Audio"]
wait_time = 0.2
one_shot = true

[node name="AudioStreamPlayer Jump" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("24_hdmq6")
bus = &"SFX"

[node name="AudioStreamPlayer Land" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("25_uom4x")
bus = &"SFX"

[node name="AudioStreamPlayer Wind" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("26_uom4x")
autoplay = true
bus = &"SFX"

[node name="AudioStreamPlayer Burning Feet" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("27_af6i6")
bus = &"SFX"

[node name="CPUParticles Burning Feet" type="CPUParticles2D" parent="."]
z_index = -1
position = Vector2(0, 25)
emitting = false
amount = 40
lifetime = 0.5
lifetime_randomness = 0.3
emission_shape = 3
emission_rect_extents = Vector2(10, 5)
direction = Vector2(0, -1)
spread = 25.0
gravity = Vector2(0, 0)
initial_velocity_min = 55.56
initial_velocity_max = 55.56
scale_amount_max = 4.0
scale_amount_curve = SubResource("Curve_7xqbe")
color_ramp = SubResource("Gradient_7xqbe")

[node name="Timer Burning Feet" type="Timer" parent="."]
one_shot = true

[connection signal="screen_exited" from="VisibleOnScreenNotifier2D" to="." method="_on_visible_on_screen_notifier_2d_screen_exited"]
[connection signal="animation_finished" from="AnimatedSprite2D" to="." method="_on_animated_sprite_animation_finished"]
[connection signal="timeout" from="Timer Burning Feet" to="." method="_on_timer_burning_feet_timeout"]
